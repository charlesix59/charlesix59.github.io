<!DOCTYPE html><html lang="en" data-astro-cid-tge3q7ae> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="/src/assets/icon.png"><link rel="stylesheet" href="/styles/global.css"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="èŒ¶ç†çš„åšå®¢" href="https://charlesix59.github.io/rss.xml"><meta name="generator" content="Astro v5.16.6"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://charlesix59.github.io/tags/%E7%AE%97%E6%B3%95/"><!-- Primary Meta Tags --><title>ç®—æ³• - èŒ¶ç†çš„åšå®¢</title><meta name="title" content="ç®—æ³• - èŒ¶ç†çš„åšå®¢"><meta name="description" content="æŸ¥çœ‹æ‰€æœ‰å…³äº ç®—æ³• çš„æ–‡ç«  (1 ç¯‡)"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://charlesix59.github.io/tags/%E7%AE%97%E6%B3%95/"><meta property="og:title" content="ç®—æ³• - èŒ¶ç†çš„åšå®¢"><meta property="og:description" content="æŸ¥çœ‹æ‰€æœ‰å…³äº ç®—æ³• çš„æ–‡ç«  (1 ç¯‡)"><meta property="og:image" content="https://charlesix59.github.io/_astro/default.DOL7xRHI.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://charlesix59.github.io/tags/%E7%AE%97%E6%B3%95/"><meta property="twitter:title" content="ç®—æ³• - èŒ¶ç†çš„åšå®¢"><meta property="twitter:description" content="æŸ¥çœ‹æ‰€æœ‰å…³äº ç®—æ³• çš„æ–‡ç«  (1 ç¯‡)"><meta property="twitter:image" content="https://charlesix59.github.io/_astro/default.DOL7xRHI.png"><link rel="stylesheet" href="/_astro/about.CafuXOta.css">
<style>.card-link[data-astro-cid-dohjnao5]{text-decoration:none;color:inherit}.card[data-astro-cid-dohjnao5]{display:flex;gap:1.5rem;padding:1.5rem;border-radius:0;transition:all .3s ease;background:#fff;box-shadow:0 2px 8px #0000001a}.card[data-astro-cid-dohjnao5]:hover{box-shadow:0 4px 16px #00000026;transform:translateY(-2px)}.card-image[data-astro-cid-dohjnao5]{flex-shrink:0;width:10rem;height:10rem;border-radius:0;overflow:hidden;background:#f0f0f0}.card-image[data-astro-cid-dohjnao5] img[data-astro-cid-dohjnao5]{width:100%;height:100%;object-fit:cover}.card-content[data-astro-cid-dohjnao5]{flex:1;display:flex;flex-direction:column;justify-content:center;min-width:0}.card-title[data-astro-cid-dohjnao5]{margin:0 0 .5rem;font-size:1.1rem;font-weight:600;color:rgb(var(--black));line-height:1.4;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card-description[data-astro-cid-dohjnao5]{margin:0;font-size:.95rem;color:rgb(var(--gray));line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}@media(max-width:640px){.card[data-astro-cid-dohjnao5]{padding:1rem;gap:1rem}.card-image[data-astro-cid-dohjnao5]{width:8rem;height:8rem}.card-title[data-astro-cid-dohjnao5]{font-size:1rem}.card-description[data-astro-cid-dohjnao5]{font-size:.9rem;-webkit-line-clamp:1}}.card-list[data-astro-cid-p3vyftr4]{display:flex;flex-direction:column;gap:2px;margin-top:2rem}.card-item[data-astro-cid-p3vyftr4]{background:transparent}@media(max-width:640px){.card-list[data-astro-cid-p3vyftr4]{gap:2px;margin-top:1.5rem}}.pagination[data-astro-cid-d776pwuy]{display:flex;justify-content:center;align-items:center;gap:.6rem;margin:2rem 0;flex-wrap:wrap;font-size:.95rem}.pagination-link[data-astro-cid-d776pwuy]{padding:.35rem .8rem;background-color:#e8e8e8;color:#333;text-decoration:none;border-radius:6px;font-weight:500;transition:all .3s ease;border:1px solid #d0d0d0;font-size:.9rem}.pagination-link[data-astro-cid-d776pwuy]:hover{background-color:#d8d8d8;transform:translateY(-2px);box-shadow:0 2px 8px #0000001a}.pagination-numbers[data-astro-cid-d776pwuy]{display:flex;gap:.3rem;align-items:center}.pagination-number[data-astro-cid-d776pwuy]{padding:.3rem .6rem;border:1px solid #d0d0d0;color:#333;background-color:#fff;text-decoration:none;border-radius:4px;font-weight:500;transition:all .3s ease;min-width:2rem;text-align:center;font-size:.9rem}.pagination-number[data-astro-cid-d776pwuy]:hover:not(.active){background-color:#f5f5f5;border-color:#999}.pagination-number[data-astro-cid-d776pwuy].active{background-color:#333;color:#fff;border-color:#333}.pagination-ellipsis[data-astro-cid-d776pwuy]{color:rgb(var(--gray));font-weight:500;padding:.3rem .2rem;font-size:.9rem}@media(max-width:640px){.pagination[data-astro-cid-d776pwuy]{gap:.5rem;margin:2rem 0}.pagination-link[data-astro-cid-d776pwuy]{padding:.4rem .7rem;font-size:.9rem}.pagination-number[data-astro-cid-d776pwuy]{padding:.3rem .6rem;font-size:.9rem}.pagination-numbers[data-astro-cid-d776pwuy]{gap:.3rem}}
main[data-astro-cid-tge3q7ae]{width:100%;max-width:960px;margin:0 auto;padding:2rem 1rem;box-sizing:border-box}.tag-header[data-astro-cid-tge3q7ae]{margin-bottom:3rem}.tag-header-content[data-astro-cid-tge3q7ae]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.back-link[data-astro-cid-tge3q7ae]{display:inline-flex;align-items:center;gap:.5rem;color:rgb(var(--accent));text-decoration:none;font-weight:500;transition:all .3s ease}.back-link[data-astro-cid-tge3q7ae]:hover{gap:1rem}.back-link[data-astro-cid-tge3q7ae]:before{content:"â†"}.tag-title[data-astro-cid-tge3q7ae]{display:inline-block;font-size:2.5rem;margin:0;color:rgb(var(--black));padding:.5rem 1.5rem;background:linear-gradient(135deg,#2680d9,#26d980);color:#fff;border-radius:20px}.tag-info[data-astro-cid-tge3q7ae]{display:flex;gap:2rem;margin-top:1rem;color:rgb(var(--gray));font-size:1.1rem}.tag-info-item[data-astro-cid-tge3q7ae]{display:flex;align-items:center;gap:.5rem}.tag-info-icon[data-astro-cid-tge3q7ae]{font-size:1.3rem}.empty-state[data-astro-cid-tge3q7ae]{text-align:center;padding:3rem 1rem;color:rgb(var(--gray))}.empty-state[data-astro-cid-tge3q7ae] p[data-astro-cid-tge3q7ae]{font-size:1.1rem}@media(max-width:768px){main[data-astro-cid-tge3q7ae]{padding:1.5rem .75rem}.tag-header[data-astro-cid-tge3q7ae]{margin-bottom:2rem}.tag-header-content[data-astro-cid-tge3q7ae]{flex-direction:column;align-items:flex-start;gap:.5rem}.back-link[data-astro-cid-tge3q7ae]{font-size:.95rem}.tag-title[data-astro-cid-tge3q7ae]{font-size:2rem;padding:.4rem 1rem}.tag-info[data-astro-cid-tge3q7ae]{flex-direction:column;gap:.5rem;font-size:1rem}}@media(max-width:480px){main[data-astro-cid-tge3q7ae]{padding:1rem .5rem}.tag-header[data-astro-cid-tge3q7ae]{margin-bottom:1.5rem}.tag-title[data-astro-cid-tge3q7ae]{font-size:1.5rem;padding:.3rem .8rem}.tag-info[data-astro-cid-tge3q7ae]{font-size:.9rem;gap:.3rem}.tag-info-icon[data-astro-cid-tge3q7ae]{font-size:1.1rem}.back-link[data-astro-cid-tge3q7ae]{font-size:.9rem}}
</style></head> <body data-astro-cid-tge3q7ae> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>èŒ¶ç†çš„åšå®¢</a></h2> <div class="internal-links" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> é¦–é¡µ </a>  <a href="/tags" class="active" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> æ ‡ç­¾ </a>  <a href="/about" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> å…³äºæˆ‘ </a>  </div> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://https://github.com/charlesix59" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>find me on Github</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path></svg> </a> </div> </nav> </header>  <main data-astro-cid-tge3q7ae> <section class="tag-header" data-astro-cid-tge3q7ae> <div class="tag-header-content" data-astro-cid-tge3q7ae> <a href="/tags/" class="back-link" data-astro-cid-tge3q7ae>è¿”å›æ ‡ç­¾äº‘</a> </div> <h1 class="tag-title" data-astro-cid-tge3q7ae>ç®—æ³•</h1> <div class="tag-info" data-astro-cid-tge3q7ae> <div class="tag-info-item" data-astro-cid-tge3q7ae> <span class="tag-info-icon" data-astro-cid-tge3q7ae>ğŸ“</span> <span data-astro-cid-tge3q7ae>1 ç¯‡æ–‡ç« </span> </div> <div class="tag-info-item" data-astro-cid-tge3q7ae> <span class="tag-info-icon" data-astro-cid-tge3q7ae>ğŸ“…</span> <span data-astro-cid-tge3q7ae>æœ€æ–°: 2024/12/19</span> </div> </div> </section>  <div class="card-list" data-astro-cid-p3vyftr4> <div class="card-item" data-astro-cid-p3vyftr4> <a href="/blog/subject/qccstp/kmp/" class="card-link" data-astro-cid-dohjnao5> <div class="card" data-astro-cid-dohjnao5> <div class="card-image" data-astro-cid-dohjnao5>  </div> <div class="card-content" data-astro-cid-dohjnao5> <h3 class="card-title" data-astro-cid-dohjnao5>è½¯è€ƒå¤ä¹ ä¹‹KMPç®—æ³•</h3> <p class="card-description" data-astro-cid-dohjnao5># KMPç®—æ³•

KMPç®—æ³•æˆ‘æ›¾ä»Šå†™è¿‡ä¸€ç¯‡[åšå®¢](https://blog.csdn.net/Charlesix59/article/details/119875803)è®²è¿‡ï¼Œä½†æ˜¯æˆ‘å½“æ—¶è§‰å¾—è¿™ä¸ªç®—æ³•å¥½çƒ‚ï¼Œå°±æ²¡ç»†è®²ï¼Œåæ¥å‘ç°ä»–ä»¬è¿˜æŒºå–œæ¬¢è€ƒè¿™ä¸ªç®—æ³•çš„ï¼Œäºæ˜¯æˆ‘å†å¼€å¸–è®²ä¸€ä¸‹

## è‡ªç„¶è¯­è¨€æè¿°

è‡ªç„¶è¯­è¨€æè¿°æ˜¯æˆ‘æ ¹æ®ã€Šalgorithmã€‹çš„å†…å®¹ä»¥åŠæˆ‘è‡ªå·±çš„ç†è§£å†™å‡ºæ¥çš„ï¼Œï¼Œä¸€èˆ¬æ¥è¯´æ˜¯æ­£ç¡®çš„è®¡ç®—next[]ä¸è§£é‡ŠKMPçš„ç®—æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ¯”è¾ƒè€ƒéªŒæ‚Ÿæ€§ï¼Œä½†æ˜¯åŸç†ç¡®å®æ˜¯è¿™æ ·ğŸ˜‚

![](kmp/1.png)

## è€ƒç ”æ•™æè§£é‡Š

æˆ‘ä»¬è¿˜æ˜¯æ‹¿`pat=abcac`ä¸¾ä¾‹å­ï¼Œæˆ‘ä»¬ä»aå¼€å§‹å–å­—ä¸²ï¼Œç„¶åæ‰¾å‰ç¼€ä¸åç¼€çš„æœ€é•¿ç›¸ç­‰é•¿åº¦

- â€aâ€œæœ€é•¿ç›¸ç­‰é•¿åº¦ä¸º0

- &quot;ab&quot;æœ€é•¿ç›¸ç­‰é•¿åº¦0

- &quot;abc&quot;æœ€é•¿ç›¸ç­‰é•¿åº¦0

- &quot;abca&quot;æœ€é•¿ç›¸ç­‰é•¿åº¦1

- &quot;abcac&quot;æœ€é•¿ç›¸ç­‰é•¿åº¦0


æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°PM={0,0,0,1,0}

ä½†æ˜¯æˆ‘ä»¬æœ‰å…¬å¼`å³ç§»ä½æ•°=å·²åŒ¹é…çš„å­—ç¬¦æ•°-å¯¹åº”çš„éƒ¨åˆ†åŒ¹é…å€¼`

ç„¶å &lt;mark&gt;å¯¹åº”çš„éƒ¨åˆ†åŒ¹é…å€¼ æ˜¯ j å‰ä¸€ä¸ªå€¼&lt;/mark&gt;ï¼Œäºæ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬æŠŠPMæ•´ä½“å³ç§»ä¸€ä½ï¼Œå¹¶ç”¨-1ä½œä¸ºnext[0]çš„å€¼ï¼Œå¾—åˆ°`next[]={-1,0,0,0,1}`

æ‰€ä»¥æˆ‘ä»¬æœ‰å…¬å¼ï¼š

`Move=(j-1)-next[j]`

è¿™å°±ç›¸å½“äºæˆ‘ä»¬å°†Jå›é€€åˆ°ï¼š

`jå›é€€åˆ°çš„ä½ç½®=j-Move=j-((j-1)-next[j])=next[j]+1`

æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥éƒ½å¾—åˆ°next[]çš„æ–°çš„å½¢å¼ï¼š

`next[]={0,1,1,1,2}`

&lt;mark&gt;è¿™é‡Œnext[]çš„å«ä¹‰æ˜¯åœ¨jå¤„åŒ¹é…å¤±è´¥åï¼Œjå›é€€åˆ°çš„ä½ç½®&lt;/mark&gt;

## æ‹“å±•ï¼šæ›´åº•å±‚çš„åŒ¹é…æ–¹æ³•

å®é™…ä¸Šï¼ŒKMPç®—æ³•åº”è¯¥ç”Ÿæˆä¸€ä¸ªæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆDFAï¼‰ï¼Œç„¶åé€šè¿‡DFAå»åŒ¹é…å­—ä¸²

ç»§ç»­æŒ‰ç…§`pat=abcac`ä¸ºä¾‹ï¼Œç”»å‡ºçš„DFAå¦‚ä¸‹ï¼š

![](kmp/2.jpg)

ç”ŸæˆDFAçš„ç®—æ³•å¦‚ä¸‹

```cpp
/*KMPå­—ç¬¦ä¸²æŸ¥æ‰¾*/
class KMP
{
private:
	std::string pat;
	const static int r = 256;
	int *dfa[r];    //å»ºç«‹ä¸€ä¸ªäºŒç»´æ•°ç»„
public:
	KMP(std::string pat)
	{
		this-&gt;pat = pat;
		int m = pat.length();
		for (int i = 0; i &lt; r; i++)
		{
			dfa[i] = new int[m];
			std::fill(dfa[i], dfa[i] + m, 0);
		}
		dfa[pat[0]][0] = 1;
		for (int x = 0, j = 1; j &lt; m; j++)
		{
			for (int c = 0; c &lt; r; c++)
			{
				dfa[c][j] = dfa[c][x];	//å¤åˆ¶åŒ¹é…å¤±è´¥æƒ…å†µä¸‹çš„å€¼
			}
			dfa[pat[j]][j] = j + 1;		//è®¾ç½®åŒ¹é…æˆåŠŸæƒ…å†µä¸‹çš„å€¼
			x = dfa[pat[j]][x];		//æ›´æ–°é‡å¯çŠ¶æ€
		}
	}
	int seatch(std::string txt)
	{
		int i, j, n = txt.length(), m = pat.length();
		for (i = 0, j = 0; i &lt; n&amp;&amp;j &lt; m; i++)
		{
			j = dfa[txt[i]][j];
		}
		if (j == m)
			return i - m;		//æ‰¾åˆ°åŒ¹é…
		else
			return n;		//æœªæ‰¾åˆ°åŒ¹é…
	}
};

```</p> </div> </div> </a>  </div> </div>    </main> <footer data-astro-cid-sz7xmlte>
&copy; 2026 @charlesix59. All rights reserved.
<div class="social-links" data-astro-cid-sz7xmlte> <a href="https://https://github.com/charlesix59" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>find me on Github</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" data-astro-cid-sz7xmlte><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> </div> </footer>  </body></html>