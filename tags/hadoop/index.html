<!DOCTYPE html><html lang="en" data-astro-cid-tge3q7ae> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="/src/assets/icon.png"><link rel="stylesheet" href="/styles/global.css"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="èŒ¶ç†çš„åšå®¢" href="https://charlesix59.github.io/rss.xml"><meta name="generator" content="Astro v5.16.6"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://charlesix59.github.io/tags/hadoop/"><!-- Primary Meta Tags --><title>hadoop - èŒ¶ç†çš„åšå®¢</title><meta name="title" content="hadoop - èŒ¶ç†çš„åšå®¢"><meta name="description" content="æŸ¥çœ‹æ‰€æœ‰å…³äº hadoop çš„æ–‡ç«  (1 ç¯‡)"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://charlesix59.github.io/tags/hadoop/"><meta property="og:title" content="hadoop - èŒ¶ç†çš„åšå®¢"><meta property="og:description" content="æŸ¥çœ‹æ‰€æœ‰å…³äº hadoop çš„æ–‡ç«  (1 ç¯‡)"><meta property="og:image" content="https://charlesix59.github.io/_astro/default.DOL7xRHI.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://charlesix59.github.io/tags/hadoop/"><meta property="twitter:title" content="hadoop - èŒ¶ç†çš„åšå®¢"><meta property="twitter:description" content="æŸ¥çœ‹æ‰€æœ‰å…³äº hadoop çš„æ–‡ç«  (1 ç¯‡)"><meta property="twitter:image" content="https://charlesix59.github.io/_astro/default.DOL7xRHI.png"><link rel="stylesheet" href="/_astro/about.CafuXOta.css">
<style>.card-link[data-astro-cid-dohjnao5]{text-decoration:none;color:inherit}.card[data-astro-cid-dohjnao5]{display:flex;gap:1.5rem;padding:1.5rem;border-radius:0;transition:all .3s ease;background:#fff;box-shadow:0 2px 8px #0000001a}.card[data-astro-cid-dohjnao5]:hover{box-shadow:0 4px 16px #00000026;transform:translateY(-2px)}.card-image[data-astro-cid-dohjnao5]{flex-shrink:0;width:10rem;height:10rem;border-radius:0;overflow:hidden;background:#f0f0f0}.card-image[data-astro-cid-dohjnao5] img[data-astro-cid-dohjnao5]{width:100%;height:100%;object-fit:cover}.card-content[data-astro-cid-dohjnao5]{flex:1;display:flex;flex-direction:column;justify-content:center;min-width:0}.card-title[data-astro-cid-dohjnao5]{margin:0 0 .5rem;font-size:1.1rem;font-weight:600;color:rgb(var(--black));line-height:1.4;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card-description[data-astro-cid-dohjnao5]{margin:0;font-size:.95rem;color:rgb(var(--gray));line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}@media(max-width:640px){.card[data-astro-cid-dohjnao5]{padding:1rem;gap:1rem}.card-image[data-astro-cid-dohjnao5]{width:8rem;height:8rem}.card-title[data-astro-cid-dohjnao5]{font-size:1rem}.card-description[data-astro-cid-dohjnao5]{font-size:.9rem;-webkit-line-clamp:1}}.card-list[data-astro-cid-p3vyftr4]{display:flex;flex-direction:column;gap:2px;margin-top:2rem}.card-item[data-astro-cid-p3vyftr4]{background:transparent}@media(max-width:640px){.card-list[data-astro-cid-p3vyftr4]{gap:2px;margin-top:1.5rem}}.pagination[data-astro-cid-d776pwuy]{display:flex;justify-content:center;align-items:center;gap:.6rem;margin:2rem 0;flex-wrap:wrap;font-size:.95rem}.pagination-link[data-astro-cid-d776pwuy]{padding:.35rem .8rem;background-color:#e8e8e8;color:#333;text-decoration:none;border-radius:6px;font-weight:500;transition:all .3s ease;border:1px solid #d0d0d0;font-size:.9rem}.pagination-link[data-astro-cid-d776pwuy]:hover{background-color:#d8d8d8;transform:translateY(-2px);box-shadow:0 2px 8px #0000001a}.pagination-numbers[data-astro-cid-d776pwuy]{display:flex;gap:.3rem;align-items:center}.pagination-number[data-astro-cid-d776pwuy]{padding:.3rem .6rem;border:1px solid #d0d0d0;color:#333;background-color:#fff;text-decoration:none;border-radius:4px;font-weight:500;transition:all .3s ease;min-width:2rem;text-align:center;font-size:.9rem}.pagination-number[data-astro-cid-d776pwuy]:hover:not(.active){background-color:#f5f5f5;border-color:#999}.pagination-number[data-astro-cid-d776pwuy].active{background-color:#333;color:#fff;border-color:#333}.pagination-ellipsis[data-astro-cid-d776pwuy]{color:rgb(var(--gray));font-weight:500;padding:.3rem .2rem;font-size:.9rem}@media(max-width:640px){.pagination[data-astro-cid-d776pwuy]{gap:.5rem;margin:2rem 0}.pagination-link[data-astro-cid-d776pwuy]{padding:.4rem .7rem;font-size:.9rem}.pagination-number[data-astro-cid-d776pwuy]{padding:.3rem .6rem;font-size:.9rem}.pagination-numbers[data-astro-cid-d776pwuy]{gap:.3rem}}
main[data-astro-cid-tge3q7ae]{width:100%;max-width:960px;margin:0 auto;padding:2rem 1rem;box-sizing:border-box}.tag-header[data-astro-cid-tge3q7ae]{margin-bottom:3rem}.tag-header-content[data-astro-cid-tge3q7ae]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.back-link[data-astro-cid-tge3q7ae]{display:inline-flex;align-items:center;gap:.5rem;color:rgb(var(--accent));text-decoration:none;font-weight:500;transition:all .3s ease}.back-link[data-astro-cid-tge3q7ae]:hover{gap:1rem}.back-link[data-astro-cid-tge3q7ae]:before{content:"â†"}.tag-title[data-astro-cid-tge3q7ae]{display:inline-block;font-size:2.5rem;margin:0;color:rgb(var(--black));padding:.5rem 1.5rem;background:linear-gradient(135deg,#2680d9,#26d980);color:#fff;border-radius:20px}.tag-info[data-astro-cid-tge3q7ae]{display:flex;gap:2rem;margin-top:1rem;color:rgb(var(--gray));font-size:1.1rem}.tag-info-item[data-astro-cid-tge3q7ae]{display:flex;align-items:center;gap:.5rem}.tag-info-icon[data-astro-cid-tge3q7ae]{font-size:1.3rem}.empty-state[data-astro-cid-tge3q7ae]{text-align:center;padding:3rem 1rem;color:rgb(var(--gray))}.empty-state[data-astro-cid-tge3q7ae] p[data-astro-cid-tge3q7ae]{font-size:1.1rem}@media(max-width:768px){main[data-astro-cid-tge3q7ae]{padding:1.5rem .75rem}.tag-header[data-astro-cid-tge3q7ae]{margin-bottom:2rem}.tag-header-content[data-astro-cid-tge3q7ae]{flex-direction:column;align-items:flex-start;gap:.5rem}.back-link[data-astro-cid-tge3q7ae]{font-size:.95rem}.tag-title[data-astro-cid-tge3q7ae]{font-size:2rem;padding:.4rem 1rem}.tag-info[data-astro-cid-tge3q7ae]{flex-direction:column;gap:.5rem;font-size:1rem}}@media(max-width:480px){main[data-astro-cid-tge3q7ae]{padding:1rem .5rem}.tag-header[data-astro-cid-tge3q7ae]{margin-bottom:1.5rem}.tag-title[data-astro-cid-tge3q7ae]{font-size:1.5rem;padding:.3rem .8rem}.tag-info[data-astro-cid-tge3q7ae]{font-size:.9rem;gap:.3rem}.tag-info-icon[data-astro-cid-tge3q7ae]{font-size:1.1rem}.back-link[data-astro-cid-tge3q7ae]{font-size:.9rem}}
</style></head> <body data-astro-cid-tge3q7ae> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>èŒ¶ç†çš„åšå®¢</a></h2> <div class="internal-links" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> é¦–é¡µ </a>  <a href="/tags" class="active" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> æ ‡ç­¾ </a>  <a href="/about" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> å…³äºæˆ‘ </a>  </div> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://https://github.com/charlesix59" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>find me on Github</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path></svg> </a> </div> </nav> </header>  <main data-astro-cid-tge3q7ae> <section class="tag-header" data-astro-cid-tge3q7ae> <div class="tag-header-content" data-astro-cid-tge3q7ae> <a href="/tags/" class="back-link" data-astro-cid-tge3q7ae>è¿”å›æ ‡ç­¾äº‘</a> </div> <h1 class="tag-title" data-astro-cid-tge3q7ae>hadoop</h1> <div class="tag-info" data-astro-cid-tge3q7ae> <div class="tag-info-item" data-astro-cid-tge3q7ae> <span class="tag-info-icon" data-astro-cid-tge3q7ae>ğŸ“</span> <span data-astro-cid-tge3q7ae>1 ç¯‡æ–‡ç« </span> </div> <div class="tag-info-item" data-astro-cid-tge3q7ae> <span class="tag-info-icon" data-astro-cid-tge3q7ae>ğŸ“…</span> <span data-astro-cid-tge3q7ae>æœ€æ–°: 2024/12/19</span> </div> </div> </section>  <div class="card-list" data-astro-cid-p3vyftr4> <div class="card-item" data-astro-cid-p3vyftr4> <a href="/blog/subject/hadoop/" class="card-link" data-astro-cid-dohjnao5> <div class="card" data-astro-cid-dohjnao5> <div class="card-image" data-astro-cid-dohjnao5>  </div> <div class="card-content" data-astro-cid-dohjnao5> <h3 class="card-title" data-astro-cid-dohjnao5>Hadoop çŸ¥è¯†æ•´ç†</h3> <p class="card-description" data-astro-cid-dohjnao5># hadoopçŸ¥è¯†ç‚¹æ•´ç†

## ç¬¬ä¸€ç«  å¤§æ•°æ®çš„æ¦‚å¿µ

å¤§æ•°æ®æ˜¯æŒ‡æ— æ³•ç”¨ç°æœ‰çš„è½¯ä»¶å·¥å…·æå–ã€å­˜å‚¨ã€æœç´¢ã€å…±äº«ã€åˆ†æå’Œå¤„ç†çš„æµ·é‡çš„å¤æ‚çš„æ•°æ®å›¾é›†ã€‚

### ç‰¹å¾

**4ä¸ªV**ï¼š

- Volumeï¼šæ•°æ®ä½“é‡å·¨å¤§

- Varietyï¼šæ•°æ®ç§ç±»ç¹å¤š

- Valueï¼šæ•°æ®ä»·å€¼å¯†åº¦ä½

- Velocityï¼šå¤„ç†é€Ÿåº¦å¿«

### hadoopç”Ÿæ€åœˆ

å¤§æ•°æ®å·¥å…·ä¸»è¦åŒ…æ‹¬ï¼šHadoopã€Hbaseã€ZooKeeperã€Hiveã€Mahoutã€Sqoopã€Stormç­‰

#### Hadoop

**Doug Cutting**å¼€å‘ï¼Œå—åˆ°**Map/Reduce**å¯å‘ï¼Œæ ¸å¿ƒæ˜¯**MapReduceç¼–ç¨‹æ¨¡å‹å’ŒHDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ**ã€‚

é‡‡ç”¨åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³ï¼ŒMapç”¨æ¥åˆ‡åˆ†å¤§çš„æ•°æ®ï¼ŒReduceç”¨æ¥åˆå¹¶Mapè®¡ç®—çš„ç»“æœã€‚

HDFS åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œä¸ºæµ·é‡æ•°æ®æä¾›å­˜å‚¨æœåŠ¡ï¼Œå°†å¤§æ–‡ä»¶æ‹†åˆ†ä¸ºå—ï¼Œå¤šèŠ‚ç‚¹å­˜æ”¾ï¼Œå…·æœ‰é«˜ååé‡ã€é«˜å®¹é”™æ€§çš„ç‰¹ç‚¹ã€‚

#### HBASE

HBASEæ˜¯Apacheå¼€æºçš„KVå‹æ•°æ®åº“ï¼Œæ˜¯å»ºç«‹åœ¨HDFSä¹‹ä¸Šï¼Œæä¾›é«˜å¯é æ€§ã€é«˜æ€§èƒ½ã€åˆ—å­˜å‚¨ã€å¯ä¼¸ç¼©ã€å®æ—¶è¯»å†™çš„æ•°æ®åº“ç³»ç»Ÿã€‚

ä»…æ”¯æŒå•è¡Œäº‹åŠ¡ã€‚

ä¸»è¦ç”¨æ¥å­˜å‚¨éç»“æ„åŒ–å’ŒåŠç»“æ„åŒ–çš„æ¾æ•£æ•°æ®ã€‚

#### Hive

Apache Hiveæ•°æ®ä»“åº“è½¯ä»¶æä¾›å¯¹å­˜å‚¨åœ¨åˆ†å¸ƒå¼ä¸­çš„å¤§å‹æ•°æ®é›†çš„æŸ¥è¯¢å’Œç®¡ç†ï¼Œå®ƒæœ¬äº‹æ˜¯å»ºç«‹åœ¨Hadoopä¹‹ä¸Šçš„

#### Storm

Apache Stormæ˜¯ä¸€ä¸ªå…è´¹ã€å¼€æºçš„åˆ†å¸ƒå¼å®æ—¶è®¡ç®—æœºç³»ç»Ÿï¼Œç®€åŒ–äº†æ•°æ®æµçš„å¯é å¤„ç†ã€‚

#### ZooKeeper

zooKeeperæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€åˆ†å¸ƒå¼çš„å¼€æºåˆ†å¸ƒå¼åº”ç”¨åè°ƒæœåŠ¡ï¼Œä»–æ˜¯stormã€hbaseçš„é‡è¦ç»„ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›ä¸€è‡´æ€§æœåŠ¡çš„è½¯ä»¶ã€‚

æœåŠ¡ç«¯è·‘åœ¨JAVAä¸Š

ZooKeeperæœ‰ä¸¤ä¸ªè§’è‰²ï¼Œä¸€ä¸ªæ˜¯leaderï¼Œè´Ÿè´£å†™æœåŠ¡å’Œæ•°æ®åŒæ­¥ï¼Œå‰©ä¸‹çš„æ˜¯followerï¼Œæä¾›è¯»æœåŠ¡ã€‚

**ç‰¹ç‚¹**ï¼š

- é¡ºåºä¸€è‡´æ€§ï¼šæŒ‰ç…§å®¢æˆ·ç«¯å‘é€è¯·æ±‚çš„é¡ºåºæ›´æ–°æ•°æ®

- åŸå­æ€§

- å•ä¸€æ€§ï¼šæ— è®ºå®¢æˆ·ç«¯è¿æ¥å“ªä¸ªserveréƒ½çœ‹åˆ°åŒä¸€ä¸ªè§†å›¾

- å¯é æ€§ï¼šä¸€æ—¦æ•°æ®æ›´æ–°æˆåŠŸå°†ä¸€ç›´ä¿æŒï¼Œç›´åˆ°æ–°çš„æ›´æ–°

- åŠæ—¶æ€§ï¼šå®¢æˆ·ä¼šåœ¨ä¸€ä¸ªç¡®å®šçš„æ—¶é—´å†…å¾—åˆ°æœ€æ–°çš„æ•°æ®

**è¿ç”¨åœºæ™¯**ï¼š

- æ•°æ®å‘å¸ƒè®¢é˜…

- åç©ºé—´æœåŠ¡

- åˆ†å¸ƒå¼é€šçŸ¥

- åˆ†å¸ƒå¼é”

- é›†ç¾¤ç®¡ç†

#### sqoop

sqoopæ˜¯Apacheé¡¶çº§é¡¹ç›®ï¼Œå…è®¸ç”¨æˆ·å°†æ•°æ®ä»å…³ç³»å‹æ•°æ®åº“ä¸­æŠ½å–æ•°æ®åˆ°Hadoopä¸­

#### mahout

mahoutæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ•°æ®æŒ–æ˜å·¥å…·ï¼Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æœºå™¨å­¦ä¹ ç®—æ³•çš„é›†åˆï¼ŒåŒ…æ‹¬åˆ†å¸ƒå¼ååŒè¿‡æ»¤çš„å®ç°ã€åˆ†ç±»ã€èšç±»ç­‰

### Hadoopå†å²å’Œç‰ˆæœ¬

å†å²ï¼š

- 2011å¹´12æœˆï¼ŒApacheåŸºé‡‘ä¼šå‘å¸ƒäº†Apache Hadoop ç‰ˆæœ¬1.0

- 2013å¹´8æœˆï¼Œç‰ˆæœ¬2.0.6å¯ç”¨

- 2017å¹´12æœˆå‘å¸ƒApache Hadoop3

å‘è¡Œç‰ˆï¼š

Hadoopæœ‰è®¸å¤šå˜ä½“ï¼š

- Cloudera Hadoopåˆ†å¸ƒï¼šæ˜¯Coludera Enterpriseçš„æ ¸å¿ƒï¼ŒåŒ…æ‹¬Apache Hadoopã€Apache Sparkï¼ŒApache Kafka ä»¥åŠåå¤šä¸ªå…¶ä»–ç´§å¯†ç»§æ‰¿çš„é¢†å…ˆå¼€æºé¡¹ç›®

- Hortonworks Hadoopåˆ†å¸ƒï¼šæ˜¯åŸºäºYARNçš„å®‰å…¨æ€§å¼ºã€ä¼ä¸šå°±ç»ªçš„å¼€æºç‰ˆæœ¬

- MapR Hadoopåˆ†å¸ƒï¼šæ˜¯Hadoopçš„å®Œæˆæ•´ä¼ä¸šçº§å‘è¡Œç‰ˆ

- PivotalHDï¼šæ˜¯é¢†å…ˆçš„åŸºäºæ ‡å‡†çš„Hadoopè¯¥å‘è¡Œç‰ˆï¼Œä¸ºBusiness Data Lakeæ¶æ„å¥ å®šäº†åŸºç¡€

ä¼˜åŠ¿ï¼š

- é«˜å¯é æ€§

- é«˜æ‹“å±•æ€§

- é«˜æ•ˆæ€§

- é«˜å®¹é”™æ€§

## ç¬¬äºŒç«  Hadoop ç»„æˆä¸ç»“æ„

Hadoop1çš„ä¸‰å¤§æ ¸å¿ƒæ¨¡å—ï¼š

- Commonæ¨¡å—ï¼šæ”¯æŒå…¶ä»–æ¨¡å—çš„å·¥å…·æ¨¡å—

- HDFSæ¨¡å—ï¼šä¸€ä¸ªé«˜å¯é ã€é«˜ååé‡çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ

- MapReduceæ¨¡å—ï¼šä¸€ä¸ªåˆ†å¸ƒå¼çš„èµ„æºè°ƒåº¦å’Œç¦»çº¿å¹¶è¡Œè®¡ç®—ç³»ç»Ÿ

Hadoop2çš„ç»„æˆï¼š

MapReduceæ¨¡å—ä»…ä½œä¸ºåˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶å­˜åœ¨ï¼Œèµ„æºè°ƒåº¦åŠŸèƒ½äº¤ç»™YARNæ¥è°ƒåº¦å¤„ç†

### HDFS

ä¸€ä¸ªåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚

HDFçš„è®¾è®¡é€‚åˆä¸€æ¬¡å†™å…¥å¤šæ¬¡è¯»å‡ºçš„åœºæ™¯ä¸”ä¸æ”¯æŒæ–‡ä»¶ä¿®æ”¹ã€‚é€‚åˆç”¨æ¥åšæ•°æ®åˆ†æï¼Œå¹¶ä¸é€‚åˆåšç½‘ç›˜ä½¿ç”¨ã€‚

Master-Slaveç»“æ„ï¼ŒMasteræ˜¯NameNodeï¼ŒSlaveæ˜¯DataNode

clientèŒè´£å¦‚ä¸‹ï¼š

- æ–‡ä»¶åˆ‡åˆ†

- ä¸NameNodeäº¤äº’è·å–æ–‡ä»¶çš„ä½ç½®ä¿¡æ¯

- ä¸DataNodeäº¤äº’è¯»å–æˆ–å†™å…¥æ•°æ®

- æä¾›ä¸€äº›æ˜æ‹æ¥ç®¡ç†HDFSï¼Œæ¯”å¦‚å¯åŠ¨æˆ–è€…å…³é—­HDFS

- å¯ä»¥é€šè¿‡ä¸€äº›å‘½ä»¤æ¥è®¿é—®HDFS

NameNodeèŒè´£å¦‚ä¸‹ï¼š

- é…ç½®å‰¯æœ¬ç­–ç•¥

- å¤„ç†clientè¯»å†™è¯·æ±‚

- ç®¡ç†blockï¼ˆæ•°æ®å—ï¼‰æ˜ å°„ä¿¡æ¯ï¼Œä»¥å…ƒæ•°æ®çš„å½¢å¼å­˜å‚¨åœ¨Fsimageé•œåƒæ–‡ä»¶ä¸­

- ç®¡ç†HDFSå‘½åç©ºé—´

DataNodeçš„èŒè´£ï¼š

- æ‰§è¡Œå®é™…çš„æ•°æ®å—

- æ‰§è¡Œæ•°æ®å—çš„è¯»å†™æ“ä½œ

SecondaryNameNodeï¼Œç¬¬äºŒåç§°èŠ‚ç‚¹ï¼Œå¹¶éåç§°èŠ‚ç‚¹çš„çƒ­å¤‡ï¼Œæ™‹æ¡£NameNodeé‡å¯æˆ–è€…çƒ­å¤‡NameNodeæ¿€æ´»æ—¶å°†å®•æœºå‰æ‰€ä¿ç•™é›†ç¾¤çš„å¿«ç…§å‘é€ç»™NameNodeä»¥æ¢å¤æ­¤å‰é›†ç¾¤çš„çŠ¶æ€ã€‚å…·ä½“åŠŸèƒ½ä¸ºï¼š

- å­˜è¾…NameNodeï¼Œåˆ†æ‹…å…¶å·¥ä½œé‡

- å®šæœŸåˆå¹¶Fsimageå’ŒEditsï¼Œå¹¶æ¨é€ç»™NameNode

- åœ¨ç´§æ€¥æƒ…å†µä¸‹å¯è¾…åŠ©æ¢å¤NameNode

ä¼˜ç‚¹ï¼š

- é«˜å®¹é”™æ€§

- é€‚åˆå¤§æ•°æ®å¤„ç†

- æ”¯æŒæµå¼æ•°æ®è®¿é—®

- å¯æ„å»ºåœ¨å»‰ä»·æœºå™¨ä¸Š

ç¼ºç‚¹ï¼š

- ä¸é€‚åˆä½å»¶æ—¶æ•°æ®è®¿é—®

- æ— æ³•é«˜æ•ˆçš„å¯¹å¤§é‡å°æ–‡ä»¶è¿›è¡Œå­˜å‚¨

- ä¸æ”¯æŒå¹¶å‘å†™å…¥æ–‡ä»¶å’Œéšæœºä¿®æ”¹

### YARNæ¶æ„

MRv1çš„å±€é™ï¼š

- æ‰©å±•æ€§å·®

- å¯é æ€§å·®

- èµ„æºåˆ©ç”¨ç‡ä½

- æ— æ³•æ”¯æŒå¤šç§è®¡ç®—æœºæ¡†æ¶

YARNæ˜¯ä¸€ä¸ªå¼¹æ€§è®¡ç®—å¹³å°ï¼Œä»–çš„ç›®æ ‡å·²ç»ä¸å±€é™äºæ”¯æŒMapReduceä¸€ç§è®¡ç®—æ¡†æ¶ï¼Œè€Œæ˜¯æœç€å¯¹å¤šç§æ¡†æ¶çš„ç»Ÿä¸€ç®¡ç†å‰è¿›

ä¼˜ç‚¹ï¼š

- èµ„æºåˆ©ç”¨ç‡é«˜

- è¿ç»´æˆæœ¬ä½

- æ•°æ®å…±äº«

å¯¹æ¯”ï¼š

|             | V1                                                               | V2                                                                         |
| ----------- | ---------------------------------------------------------------- | -------------------------------------------------------------------------- |
| åŸºæœ¬æ¡†æ¶        | JobTrackerç”±èµ„æºç®¡ç†å’Œä½œä¸šæ§åˆ¶ä¸¤éƒ¨åˆ†ç»„æˆ                                        | å°†JobTrackerçš„ä¸¤ä¸ªåŠŸèƒ½æ‹†åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œèµ„æºç®¡ç†è¿›ç¨‹è´Ÿè´£æ•´ä¸ªé›†ç¾¤çš„èµ„æºï¼Œè€Œä½œä¸šæ§åˆ¶åˆ™æ˜¯ç›´æ¥ä¸åº”ç”¨ç¨‹åºç›¸å…³çš„æ¨¡å—ï¼Œæ¯ä¸ªè¿›ç¨‹åªè´Ÿè´£ä¸€ä¸ªä½œä¸š |
| ç¼–ç¨‹æ¨¡å‹ä¸æ•°æ®å¤„ç†å¼•æ“ |                                                                  | MRv2é‡ç”¨äº†v1ä¸­çš„ç¼–ç¨‹æ¨¡å‹ä¸æ•°æ®å¤„ç†å¼•æ“                                                     |
| è¿è¡Œæ—¶ç¯å¢ƒ       | ç”±JobTrackerå’ŒTaskTrackerä¸¤ç±»æœåŠ¡ç»„æˆï¼ŒJTè´Ÿè´£èµ„æºå’Œä»»åŠ¡çš„ç®¡ç†ä¸è°ƒåº¦ï¼ŒTTè´Ÿè´£å•ä¸ªèŠ‚ç‚¹çš„èµ„æºç®¡ç†å’Œä»»åŠ¡è¿›è¡Œ | å°†èµ„æºéƒ¨ç®¡ç†ä¸åº”ç”¨ç¨‹åºç®¡ç†åˆ†å¼€ï¼Œåˆ†åˆ«åˆYARNå’ŒApplicationMasterè´Ÿè´£                                |

#### YARNåŸºæœ¬æ¶æ„

æ€»ä½“ä¸Šä»ç„¶æ˜¯Master/Slaveæ¶æ„

YARNçš„ç»„æˆæˆåˆ†å¦‚ä¸‹ï¼š

- ResourceManagerï¼šä¸€ä¸ªå…¨å±€çš„èµ„æºç®¡ç†å™¨ï¼Œè´Ÿè´£æ•´ä¸ªç³»ç»Ÿçš„èµ„æºç®¡ç†ä¸åˆ†é…ã€‚å®ƒç”±ä¸¤ä¸ªç»„ä»¶æ„æˆï¼š
  
  - è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰ï¼šæ ¹æ®å®¹é‡ã€é˜Ÿåˆ—ç­‰é™åˆ¶æ¡ä»¶å°†èµ„æºåˆ†é…ç»™å„ä¸ªæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åº
  
  - åº”ç”¨ç¨‹åºç®¡ç†å™¨ï¼ˆApplication Manager ASMï¼‰ï¼šè´Ÿè´£æ•´ä¸ªç³»ç»Ÿä¸­æ‰€æœ‰åº”ç”¨ç¨‹åº

- ApplicationMasterï¼ˆAMï¼‰çš„ä¸»è¦åŠŸèƒ½æœ‰ï¼š
  
  - ä¸RMè°ƒåº¦å™¨åå•†ä»¥è·å–èµ„æºï¼ˆContainerï¼‰
  
  - å°†å¾—åˆ°çš„ä»»åŠ¡è¿›ä¸€æ­¥åˆ†ç»™å†…éƒ¨ä»»åŠ¡
  
  - ä¸NMé€šä¿¡ä»¥å¯åŠ¨/åœæ­¢ä»»åŠ¡
  
  - ç›‘æ§æ‰€æœ‰ä»»åŠ¡è¿è¡ŒçŠ¶æ€

- NodeManagerï¼šæ˜¯æ¯ä¸ªèŠ‚ç‚¹ä¸Šèµ„æºå’Œä»»åŠ¡ç®¡ç†å™¨

- Containerï¼šæ˜¯YARNå±±ä¸­çš„èµ„æºæŠ½è±¡ï¼Œå®ƒå°è£…äº†æŸä¸ªèŠ‚ç‚¹ä¸Šçš„å¤šç»´åº¦èµ„æº

## ç¬¬ä¸‰ç«  Hadoopè¿è¡Œæ¨¡å¼ä¸å¤§æ•°æ®æŠ€æœ¯æ¡†æ¶

Hadoopçš„è¿è¡Œæ¨¡å¼ä¸»è¦æœ‰å››ç§ï¼š

- æœ¬åœ°æ¨¡å¼

- ä¼ªåˆ†å¸ƒå¼

- å…¨åˆ†å¸ƒå¼

- é«˜å¯ç”¨æ¨¡å¼

### ä¼ªåˆ†å¸ƒå¼æ¨¡å¼

Hadoopå¯ä»¥è¿è¡Œåœ¨å•ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå…¶ä¸­æ¯ä¸€ä¸ªHadoopå®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨å•ç‹¬çš„Javaè¿›ç¨‹ä¸­ï¼Œè¿™ä¸ªæ¨¡å¼ç§°ä¹‹ä¸ºä¼ªåˆ†å¸ƒå¼æ¨¡å¼ã€‚Hadoopæ‰€æœ‰è¿›ç¨‹éƒ½è¿è¡Œåœ¨ä¸€å°æœåŠ¡å™¨ä»¥æ¨¡æ‹Ÿå…¨åˆ†å¸ƒå¼æ¨¡å¼ï¼Œå¸¸ç”¨äºå­¦ä¹ é˜¶æ®µã€‚

åå°çš„äº”ä¸ªè¿›ç¨‹ä¸ºï¼š

- NameNode

- DataNode

- SecondaryNameNode

- ResourceManager

- NodeManager

### é«˜å¯ç”¨æ¨¡å¼

Hadoopæ˜¯ä¸€ç§ä¸»ä»å¼æ¶æ„ï¼Œè¿™æ ·å°±ä¼šæœ‰**å•ç‚¹æ•…éšœ**çš„é—®é¢˜

## HDFS

- æ•°æ®å—ï¼ˆblockï¼‰
  
  - HDFSé»˜è®¤çš„æœ€åŸºæœ¬çš„å­˜å‚¨å•ä½æ˜¯128MBçš„æ•°æ®å—
  
  - 128Mä¸ºä¸€å—
  
  - ä¸€ä¸ªæ–‡ä»¶å¦‚æœå°äºä¸€ä¸ªæ•°æ®å—çš„å¤§å°ï¼Œå¹¶ä¸å ç”¨æ•´ä¸ªæ•°æ®å—çš„ç©ºé—´

- å­˜æ”¾ç­–ç•¥ï¼ˆ3å‰¯æœ¬ï¼‰
  
  - ç¬¬ä¸€ä¸ªå’ŒclientåŒnode
  
  - ç¬¬äºŒä¸ªæ”¾åœ¨ä¸ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸åŒæœºæ¶ä¸­çš„éšæœºçš„ä¸€ä¸ªnode
  
  - ç¬¬ä¸‰ä¸ªæ”¾åœ¨ä¸ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸åŒçš„æœºæ¶ä¸­ä¸ç¬¬äºŒä¸ªä¸åŒçš„éšæœºnodeä¸­

- NameNode å’ŒDataNode
  
  - HDFSä½“ç³»ç»“æ„ä¸­æœ‰ä¸¤ç±»èŠ‚ç‚¹ï¼Œä¸€ç±»æ˜¯NameNode ( Master) ï¼Œåˆå«&quot;å…ƒæ•°æ®èŠ‚ç‚¹&quot;;å¦ä¸€ç±»æ˜¯DataNode (Slave) ï¼Œåˆå«&quot;æ•°æ® èŠ‚ç‚¹â€ã€‚
  
  - å…ƒæ•°æ®èŠ‚ç‚¹ç”¨æ¥ç®¡ç†æ–‡ä»¶ç³»ç»Ÿçš„å‘½åç©ºé—´ï¼Œä½œç”¨å¦‚ä¸‹ï¼š
    
    - å…¶å°†æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„å…ƒæ•°æ®ä¿å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ ç³»ç»Ÿæ ‘ä¸­
    
    - è¿™äº›ä¿¡æ¯ä¹Ÿä¼šåœ¨ç¡¬ç›˜ä¸Šä¿å­˜æˆä»¥ä¸‹æ–‡ä»¶:å‘½åç©ºé—´é•œåƒ(namespace image)åŠä¿®æ”¹æ—¥å¿—(edit log)
    
    - è¿˜ä¿å­˜äº†ä¸€ä¸ªæ–‡ä»¶åŒ…æ‹¬å“ªäº›æ•°æ®å—ï¼Œåˆ†å¸ƒåœ¨å“ªäº›æ•°æ®èŠ‚ç‚¹ä¸Šï¼Œç„¶è€Œè¿™äº›ä¿¡æ¯å¹¶ä¸å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šï¼Œè€Œæ˜¯åœ¨ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™ä»æ•°æ®èŠ‚ç‚¹æ”¶é›†è€Œæˆçš„
  
  - æ•°æ®èŠ‚ç‚¹æ˜¯æ–‡ä»¶ç³»ç»Ÿä¸­çœŸæ­£å­˜å‚¨æ•°æ®çš„åœ°æ–¹ï¼Œä½œç”¨å¦‚ä¸‹:
    
    - å®¢æˆ·ç«¯(clien)æˆ–è€… å…ƒæ•°æ®ä¿¡æ¯(namenode)å¯ä»¥å‘æ•°æ®èŠ‚ç‚¹è¯·æ±‚å†™å…¥æˆ–è€…è¯»å‡ºæ•°æ®å—
    
    - å‘¨æœŸæ€§çš„å‘å…ƒæ•°æ®èŠ‚ç‚¹å›æŠ¥å…¶å­˜å‚¨çš„æ•°æ®å—ä¿¡æ¯
  
  - `hadoop.tmp.dir`ï¼Œä¸´æ—¶ç›®å½•ï¼Œå…¶ä»–ä¸´æ—¶ç›®å½•çš„çˆ¶ç›®å½•ï¼Œé»˜è®¤ `/tmp/hadoop-${user.name}`ï¼Œåœ¨`core-site.xml`ä¸­é…ç½®
  
  - å…ƒæ•°æ®èŠ‚ç‚¹ç›®å½•ç»“æ„ï¼Œåœ¨`hdfs-site.xml`ä¸­é…ç½®`dfs.name.dir`å‚æ•°ï¼Œä»¥`,`åˆ†éš”ï¼Œé»˜è®¤åœ¨`{hadoop.tmp.dir}/dir/name`

- æ•°æ®èŠ‚ç‚¹ç›®å½•ç»“æ„
  
  - åœ¨`hdfs-site.xml`ä¸­é…ç½®å‚æ•°`dfs.data.dir`ï¼Œä»¥`,`åˆ†éš”

- HDFSé€šä¿¡åè®®
  
  - æ‰€æœ‰HDFSé€šä¿¡åè®®éƒ½æ˜¯æ„å»ºåœ¨TCP/IPåè®®ä¸Šçš„

- HDFSå®‰å…¨æ¨¡å¼
  
  - Namenodeå¯åŠ¨åä¼šè¿›å…¥ä¸€ç§ç§°ä¸ºå®‰å…¨æ¨¡å¼çš„ç‰¹æ®ŠçŠ¶æ€ã€‚å¤„äºå®‰å…¨æ¨¡å¼çš„Namenodeæ˜¯ä¸ä¼šè¿›è¡Œæ•°æ®å—çš„å¤åˆ¶çš„ã€‚Namenodeä»æ‰€æœ‰çš„DataNodeæ¥å—å¿ƒè·³ä¿¡å·å’Œå—çŠ¶æ€æŠ¥å‘Š

**Name Nodeã€DataNode å’ŒClient**

- Namencodte æ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç´ ç»Ÿä¸­çš„ç®¡ç†è€…ï¼Œ ä¸»è¦è´Ÿè´£ç®¡ç† æ–‡ä»¶ç³»ç»Ÿçš„å‘½åç©ºé—´ã€é›†ç¾¤é…ç½®ä¿¡æ¯å’Œå­˜å‚¨å—çš„å¤åˆ¶ç­‰ã€‚NameNode ä¼šå°†æ–‡ä»¶ç³»ç»Ÿçš„Meta-data å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè¿™äº›ä¿¡æ¯ä¸»è¦åŒ…æ‹¬äº†æ–‡ä»¶ä¿¡æ¯ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”çš„æ–‡ä»¶å—çš„ä¿¡æ¯å’Œæ¯ä¸ª æ–‡ä»¶å—DataNodeçš„ä¿¡æ¯ç­‰ã€‚

- DataNodeæ˜¯æ–‡ä»¶å­˜å‚¨çš„åŸºæœ¬å•å…ƒï¼Œ å®ƒå°†Block å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¿å­˜äº†Block çš„meta-data,åŒæ—¶ å‘¨æœŸæ€§åœ°å°†æ‰€æœ‰å­˜åœ¨çš„Blockä¿¡æ¯å‘é€ç»™NameNode.

- Client å°±æ˜¯éœ€è¦è·å–åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶çš„åº”ç”¨ç¨‹åºã€‚

- Clientè¯»å–æ–‡ä»¶ä¿¡æ¯

### Hadoop Shellå‘½ä»¤

å®é™…ä¸Šæ˜¯å±æ€§ï¼Œå‘½ä»¤ä¸ºï¼š`hadoop fs -xx`

- `cat`:

- `chgrp`: change group

- `chmod`:

- `chown`

- `copyFromLocal`

- `copyToLocal`

- `cp`: copy

- `du`ï¼šæ˜¾ç¤ºç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„å¤§å°

- `dus`ï¼šæ˜¾ç¤ºå•ä¸ªæ–‡ä»¶å¤§å°

- `expunge`ï¼šæ¸…ç©ºå›æ”¶ç«™

- `get`ï¼šå¤åˆ¶åˆ°æœ¬åœ°

- `getmerge`ï¼šå°† source dir ä¸­çš„æ–‡ä»¶é“¾æ¥æˆ local target dir

- ls

- lsrï¼šé€’å½’ls

- mkdir

- movefromLocal

- mv

- putï¼šæœ¬åœ°åˆ°è¿œç¨‹

- rm

- rmrï¼šé€’å½’rm

- setrepï¼šæ”¹å˜å‰¯æœ¬æ•°

- statï¼šè¿”å›æŒ‡å®šè·¯å¾„çš„ç»Ÿè®¡ä¿¡æ¯

- tailï¼šå°†å°¾éƒ¨1kbçš„å­—èŠ‚è¾“å‡ºåˆ°stdout

- testï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨

- textï¼šå°†æºæ–‡ä»¶è¾“å‡ºä¸ºæ–‡æœ¬æ ¼å¼

- touchzï¼šæ–°å»ºä¸€ä¸ª0è‡ªå·±çš„æ–‡ä»¶

Hadoopç®¡ç†å‘½ä»¤ï¼š

- distcpï¼šåˆ†å¸ƒå¼æ‹·è´ï¼ˆé›†ç¾¤ä¹‹é—´ï¼‰

- fsckï¼šæ£€æŸ¥æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„å¥åº·æƒ…å†µ

- jarï¼šè¿è¡Œjavaæ–‡ä»¶

- jobï¼šç”¨äºå’ŒMapReduceäº¤äº’

- balancerï¼šè¿è¡Œé›†ç¾¤å¹³è¡¡å·¥å…·

- dfsadminï¼šè¿è¡Œä¸€ä¸ªdfs adminå®¢æˆ·ç«¯

- namenodeï¼š è¿è¡Œnamenode

### javaæ¥å£

Hadoopä¸­å…³äºæ–‡ä»¶æ“ä½œç±»åŸºæœ¬éƒ½åœ¨`org.apache.hadoop.fs`åŒ…ä¸­

Hadoopç±»åº“ä¸­æœ€ç»ˆé¢å‘ç”¨æˆ·æä¾›æ¥å£æ˜¯`FileSystem`

```java
// è·å–FileSystemå…·ä½“ç±»
static FileSystem get(Configuration conf);
// å†™æ–‡ä»¶
public FSDataOutputStream create(Path f) throws IOException;
//è¯»æ–‡ä»¶
// ä¸Šä¼ æ–‡ä»¶åˆ°HDFS
public void copyFileLocalFile(Path src,Path dist);
// é‡å‘½åæ–‡ä»¶
public abstract boolean rename(Path src, Path dist);
// åˆ é™¤æ–‡ä»¶&amp;ç›®å½•
public abstract boolean delete(Path f, boolean recursive) throws IOException;
// åˆ›å»ºç›®å½•
public boolean mkdirs(Path f) throws IOException;
// éå†ç›®å½•
public abstract FileStatus[] listStatus(Path f) throws FileNotFoundException, IOException
```

## MapReduce

```java
public void map(Object Key,Text value,Context context)
throws IOExcetion, InterruptedException{
    
}
```

### MapReduceå·¥ä½œåŸç†

MapReduceæ¡†æ¶çš„è¿ä½œå®Œå…¨åŸºäºâ€œé”®å€¼å¯¹â€ï¼Œå³æ•°æ®çš„è¾“å…¥æ˜¯ä¸€æ‰¹â€œé”®å€¼å¯¹â€ (key-value) ï¼Œç”Ÿæˆçš„ç»“æœä¹Ÿæ˜¯æ‰¹â€œé”®å€¼å¯¹â€ï¼Œåªæ˜¯æœ‰æ—¶å€™å®ƒä»¬çš„ç±»å‹ä¸ä¸€æ ·è€Œå·²ã€‚Keyå’Œvalueçš„ç±»ç”±äºéœ€è¦æ”¯æŒè¢«åºåˆ—åŒ– (Serealire) æ“ä½œï¼Œæ‰€ä»¥å®ƒä»¬å¿…é¡»è¦å®ç°`Writable` æ¥å£ï¼Œè€Œä¸”keyçš„ç±»è¿˜å¿…é¡»å®ç°`WirtableComparable`æ¥å£ï¼Œä½¿å¾—å¯ä»¥è®©æ¡†æ¶å¯¹æ•°æ®é›†çš„æ‰§è¡Œæ’åºæ“ä½œï¼ŒMapRedtreè¿è¡Œæœºåˆ¶ï¼ŒæŒ‰ç…§æ—¶é—´é¡ºåºåŒ…æ‹¬:è¾“å…¥åˆ†ç‰‡(input split)ã€map é˜¶æ®µã€combiner é˜¶æ®µã€shuffleé˜¶æ®µå’Œreduceé˜¶æ®µã€‚

åœ¨è¿›è¡Œmapè®¡ç®—ä¹‹å‰ï¼ŒMapReduceä¼šæ ¹æ®è¾“å…¥æ–‡ä»¶è®¡ç®—è¾“å…¥åˆ†ç‰‡

### YARNè¿è¡Œæµç¨‹

1. JobClient å‘YARYä¸­æäº¤åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­ åŒ…æ‹¬ApplicationMaster ç¨‹åºã€å¯åŠ¨ApplicationMasterçš„å‘½ä»¤ã€ç”¨æˆ·ç¨‹åºã€ç¯å¢ƒå˜é‡ã€ä½œä¸šä¿¡æ¯ã€æ–‡ä»¶ä½ç½®ä¿¡æ¯ç­‰

2. RecourseManagerä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ†é…ç¬¬ä¸€ä¸ª Container. å¹¶ä¸å¯¹åº”çš„ Node-Manager é€šä¿¡ï¼ˆé€šè¿‡å¿ƒè·³æ–¹å¼ï¼‰ï¼Œæ›´æ±‚å®ƒåœ¨è¿™ä¸ªContainerä¸­å¯åŠ¨åº”ç”¨ç¨‹åºçš„ApplicationMaster 

3. ApplicationMasteré¦–å…ˆå‘ReoourceManageræ³¨å†Œï¼Œè¿™æ ·ç”¨ æˆ·å¯ä»¥ç›´æ¥é€šè¿‡ResourceManageræŸ¥çœ‹åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶æ€ã€‚ç„¶åå®ƒå°†ä¸ºå„ä¸ªä»»åŠ¡ç”³è¯·èµ„æºï¼Œå¹¶ç›‘æ§å®ƒçš„è¿è¡ŒçŠ¶ï¼Œç›´åˆ°è¿è¡Œç»“æŸ

4.  ApplicationMaster é‡‡ç”¨è½®è¯¢çš„æ–¹å¼é€šè¿‡RPCåè®®å‘ResourceManagerç”³è¯·å’Œé¢†å–èµ„æº

5. ä¸€æ—¦ApplicationMasterç”³è¯·åˆ°èµ„æºåï¼Œä¾¿ä¸å¯¹åº”çš„NodeManageré€šä¿¡ï¼Œè¦æ±‚å®ƒå¯åŠ¨ä»»åŠ¡

6. NodeManagerä¸ºä»»åŠ¡è®¾ç½®å¥½è¿è¡Œç¯å¢ƒ(åŒ…æ‹¬ç¯å¢ƒå˜é‡ã€JARåŒ…ã€äºŒè¿›åˆ¶ç¨‹åºç­‰)åï¼Œå°†ä»»åŠ¡å¯åŠ¨å‘½ä»¤å†™åˆ°ä¸€ä¸ªè„šæœ¬ä¸­ï¼Œ å¹¶é€šè¿‡è¿è¡Œè¯¥è„šæœ¬å¯åŠ¨ä»»åŠ¡ã€‚

7. å„ä¸ªä»»åŠ¡é€šè¿‡æŸä¸ªRPCåè®®å‘AplcationMasteræ±‡æŠ¥è‡ªå·±çš„çŠ¶æ€å’Œè¿›åº¦ï¼Œä»¥è®©ApplicationMasteréšæ—¶æŒæ¡å„ä¸ªä»»åŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼Œä»è€Œå¯ä»¥åœ¨ä»»åŠ¡å¤±è´¥æ—¶é‡æ–°å¯åŠ¨ä»»åŠ¡ã€‚

8. åº”ç”¨ç¨‹åºè¿è¡Œå®Œæˆåï¼Œ ApplicationMasterå‘ResourceManageræ³¨é”€å¹¶å…³é—­è‡ªå·±

### ä½œä¸šå…³é”®è¿‡ç¨‹è¯¦è§£

**map**ï¼šmapä»»åŠ¡æœ€ç»ˆæ˜¯äº¤ç»™Mapä»»åŠ¡æ‰§è¡Œå™¨

**Reduce**ï¼šä»æ‰€æœ‰mapèŠ‚ç‚¹å–åˆ°å±äºè‡ªå·±çš„mapè¾“å‡º

**Partitioner**ï¼šå½“Mapperå¤„ç†å¥½æ•°æ®åï¼Œéœ€è¦ä½¿ç”¨Partitionerï¼ˆåˆ†åŒºå™¨ï¼‰ç¡®å®šæ€æ ·åˆç†åœ°å°†Mapperè¾“å‡ºåˆ†é…åˆ°Reduceä¸Š

**Combiner**ï¼šç›¸å½“äºä¸€ä¸ªæœ¬åœ°çš„Reduceï¼Œä¸»è¦æ˜¯å¯¹Mapperè¾“å‡ºçš„å¤§é‡æœ¬åœ°æ–‡ä»¶è¿›è¡Œä¸€æ¬¡åˆå¹¶ã€‚Combinerå‡½æ•°æ‰§è¡Œæ—¶æœºå¯èƒ½æ˜¯åœ¨mapçš„mergeæ“ä½œå®Œæˆä¹‹å‰

### MapReduceå„ç§è¾“å…¥è¾“å‡º

**InputFormat**ï¼šè´Ÿè´£å¤„ç†MRçš„è¾“å…¥éƒ¨åˆ†ï¼Œæ¥å†³å®šMapçš„æ•°é‡ï¼ŒInputFormat

**FileInputFormat**ï¼šæ˜¯æ‰€æœ‰ä»¥æ–‡ä»¶ä½œä¸ºæ•°æ®æºçš„InputFormatå®ç°çš„åŸºç±»ï¼ŒFileInputFormatä¿å­˜ä½œä¸ºjobè¾“å…¥çš„æ‰€æœ‰æ–‡ä»¶

## MapReduce è®¾è®¡æ¨¡å¼

- **è¿‡æ»¤å™¨æ¨¡å¼**ï¼šè®¾å®šæŸç§æ¡ä»¶ï¼Œå½“è´Ÿè´£æ¡ä»¶æ—¶ä¿ç•™æ•°æ®ï¼Œä¸ç¬¦åˆæ¡ä»¶æ—¶ä¸¢å¼ƒæ•°æ®

- **Top N**ï¼šæ ¹æ®æ•°æ®é›†çš„æ’åï¼Œè·å–å‰Næ¡è®°å½•

- **å»é‡æ¨¡å¼**ï¼šå»é‡

- **æ•°æ®é‡ç»„**ï¼šæŒ‰ç…§ä¸€å®šçš„è§„åˆ’æ•´ç†æ•°æ®ã€‚æ•°æ®é‡ç»„è¦æ±‚åˆ’åˆ†çš„åˆ†åŒºæ•°é‡å·²ç»ç¡®å®šï¼Œåˆ’åˆ†åˆ†åŒºçš„æ¡ä»¶å·²ç»ç¡®å®š

-</p> </div> </div> </a>  </div> </div>    </main> <footer data-astro-cid-sz7xmlte>
&copy; 2026 @charlesix59. All rights reserved.
<div class="social-links" data-astro-cid-sz7xmlte> <a href="https://https://github.com/charlesix59" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>find me on Github</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" data-astro-cid-sz7xmlte><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> </div> </footer>  </body></html>