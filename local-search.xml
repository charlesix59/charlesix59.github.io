<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ä¿®å¤fluidçš„tagsä¸­çš„è¯äº‘tagè·³è½¬å¼‚å¸¸é—®é¢˜</title>
    <link href="/2022/09/01/fluid-tags-bug-fix/"/>
    <url>/2022/09/01/fluid-tags-bug-fix/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¿®å¤fluidçš„tagsä¸­çš„è¯äº‘tagè·³è½¬å¼‚å¸¸é—®é¢˜"><a href="#ä¿®å¤fluidçš„tagsä¸­çš„è¯äº‘tagè·³è½¬å¼‚å¸¸é—®é¢˜" class="headerlink" title="ä¿®å¤fluidçš„tagsä¸­çš„è¯äº‘tagè·³è½¬å¼‚å¸¸é—®é¢˜"></a>ä¿®å¤fluidçš„tagsä¸­çš„è¯äº‘tagè·³è½¬å¼‚å¸¸é—®é¢˜</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨å°è¯•æ­å»ºè‡ªå·±çš„blogï¼Œå†å†ä¸‰è€ƒé‡ä¹‹ä¸‹é€‰æ‹©äº†<strong>hexo</strong>ï¼Œä¸å¾—ä¸è¯´è¿™ä¸ªblogæ¡†æ¶è¿˜æ˜¯å¾ˆé¦™çš„ï¼Œé…åˆgithubçš„æ‰˜ç®¡èƒ½å¤Ÿå¿«é€Ÿæ­å»ºä¸€ä¸ªç•Œé¢ç¾è§‚çš„åšå®¢ã€‚</p><p>ä½†æ˜¯åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­æˆ‘å‘ç°äº†ä¸€ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯åšå®¢çš„tagså¹¶ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚</p><p>å½“æˆ‘ä»¬ä»é¦–é¡µä¸­çš„tagè·³è½¬æ—¶ï¼Œå¯ä»¥è·³è½¬åˆ°æ­£å¸¸çš„ç•Œé¢ï¼Œå¦‚å›¾ï¼š</p><p><img src="./img1.png"></p><p><font color=red>ä½†æ˜¯å½“æˆ‘ä»tagsç•Œé¢çš„è¯äº‘ä¸­è·³è½¬æ—¶å°±ä¼šå‡ºç°é”™è¯¯</font></p><p><img src="./img2.png"></p><p>é”™è¯¯ç•Œé¢å¦‚å›¾:</p><p><img src="./img3.png"></p><span id="more"></span><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p><font color=red>æˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„è§‚æµ‹åˆ°é—®é¢˜â€”â€”urlåœ°å€é”™è¯¯ï¼Œé‡å¤äº†ä¸€æ¬¡â€™tags&#x2F;â€˜ç›®å½•</font></p><p>æˆ‘ä»¬é¦–å…ˆè¯´è§£å†³æ–¹æ¡ˆï¼š</p><p><font color=red>æ‰¾åˆ°ç›®å½•<code>&lt;your hexo dirctory&gt;\node_modules\hexo\lib\plugins\helper</code>ä¸­çš„tagcloud.jsæ–‡ä»¶ï¼Œå°†æ–‡ä»¶ç¬¬71è¡Œæ”¹ä¸ºï¼š</font></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">`&lt;a href=&quot;<span class="hljs-subst">$&#123;url_for.call(<span class="hljs-variable language_">this</span>, tag.path).substring(<span class="hljs-number">5</span>)&#125;</span>&quot; style=&quot;<span class="hljs-subst">$&#123;style&#125;</span>&quot;<span class="hljs-subst">$&#123;attr&#125;</span>&gt;<span class="hljs-subst">$&#123;transform ? transform(tag.name) : tag.name&#125;</span>&lt;/a&gt;`</span><br><span class="hljs-comment">//åŸä»£ç ä¸ºï¼š</span><br><span class="hljs-comment">//`&lt;a href=&quot;$&#123;url_for.call(this, tag.path))&#125;&quot; style=&quot;$&#123;style&#125;&quot;$&#123;attr&#125;&gt;$&#123;transform ? transform(tag.name) : tag.name&#125;&lt;/a&gt;`</span><br><span class="hljs-comment">//åŠ ä¸Šäº†ä¸€ä¸ªå­å­—ç¬¦ä¸²åˆ†å‰²</span><br></code></pre></td></tr></table></figure><p><em><strong>æ³¨æ„ï¼è¿™ä¸ªæ–¹æ³•åªé€‚åˆè·Ÿæˆ‘æè¿°çš„é”™è¯¯ç›¸åŒçš„æœ‹å‹ï¼Œå¦‚æœé—®é¢˜ä¸åŒè¯·ä¸è¦éšæ„æ›´æ”¹ï¼</strong></em></p><h2 id="è¯¦ç»†è§£é‡Š"><a href="#è¯¦ç»†è§£é‡Š" class="headerlink" title="è¯¦ç»†è§£é‡Š"></a>è¯¦ç»†è§£é‡Š</h2><p>è¿™ä¸€éƒ¨åˆ†è®²è¿°æˆ‘æ€ä¹ˆåˆ†æå¹¶è§£å†³é—®é¢˜çš„ï¼Œå¦‚æœä¸æ„Ÿå…´è¶£å¯ä»¥ç›´æ¥å…³æ‰ç½‘é¡µäº†</p><p>é¦–å…ˆå‘ç°åˆ°è¿™ä¸€ç‚¹åï¼Œæˆ‘ä¼å›¾å¼„æ¸…æ¥šfluidæ˜¯å¦‚ä½•ç”Ÿæˆtagsè¿™ä¸ªhtmlæ–‡ä»¶çš„ã€‚ä½†æ˜¯æˆ‘è§‚å¯Ÿæ–‡ä»¶å¤¹æ—¶å¹¶æ²¡æœ‰å’Œæ˜æ˜¾çš„å¯Ÿè§‰åˆ°è¿™ä¸€ç‚¹ã€‚äºæ˜¯æˆ‘æ‰¾åˆ°<code>public</code>æ–‡ä»¶å¤¹ï¼Œ<strong>è¿™ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾çš„æ˜¯é€šè¿‡hexoç”Ÿæˆçš„htmlæ–‡ä»¶ã€‚</strong> ç„¶åæˆ‘ä»¬æ‰¾åˆ°<code>tags</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>index.html</code>Â Â Â æ–‡ä»¶ï¼Œéšç€ç¿»é˜…htmlæ–‡ä»¶ï¼Œæˆ‘å‘ç°äº†è¿™æ ·çš„ä¸€å—ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center tagcloud&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;tags/node-js/&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size: 15px; color: #bbe&quot;</span>&gt;</span>node.js<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;tags/å‰ç«¯/&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size: 15px; color: #bbe&quot;</span>&gt;</span>å‰ç«¯<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ¯«æ— ç–‘é—®ï¼Œè¿™å°±æ˜¯ç”Ÿæˆè¯äº‘çš„ä»£ç ï¼Œä½†æ˜¯æˆ‘å·²ç»ç”Ÿæˆä¸ºhtmlçš„æ–‡ä»¶æˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥æ”¹ï¼Œå› ä¸ºå¦‚æœè¦è¿™æ ·è§£å†³é—®é¢˜ï¼Œæ¯æ¬¡ç”Ÿæˆæ–°çš„htmlä¹‹åæˆ‘ä»¬éƒ½è¦æ‰‹åŠ¨ä¿®æ”¹ä¸€æ¬¡ï¼Œè¿™æ˜¯å¾ˆæ²¡æœ‰æ•ˆç‡çš„ã€‚äºæ˜¯æˆ‘ä»¬é¡ºè—¤æ‘¸ç“œç»§ç»­å¯»æ‰¾é—®é¢˜ã€‚</p><p>äºæ˜¯æˆ‘åœ¨webstromä½¿ç”¨<kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>r</kbd>å…¨å±€æŸ¥æ‰¾tagcloudï¼Œå‘ç°åœ¨fluidçš„layoutä¸­æœ‰ä¸€ä¸ªåä¸º<code>tags.ejs</code>æ–‡ä»¶ï¼Œè¿™æ˜¾ç„¶æ˜¯ç”Ÿæˆtagsçš„æ–‡ä»¶ä¹‹ä¸€ã€‚å…¶ä¸­æœ‰è¿™æ ·çš„ä¸€å—ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ejs">&lt;div class=&quot;text-center tagcloud&quot;&gt;<br>  &lt;%- tagcloud(&#123;<br>    min_font: min_font,<br>    max_font: max_font,<br>    amount: 999,<br>    unit: unit,<br>    color: true,<br>    start_color,<br>    end_color<br>  &#125;) %&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><p>å¾ˆæ˜æ˜¾ï¼Œè¿™æ˜¯ç”Ÿæˆä¸Šé¢é‚£ä¸ªhtmlçš„æ˜ å°„æ–‡ä»¶ï¼Œä½†æ˜¯è¿™å…¶ä¸­ä¾ç„¶æ²¡æœ‰ä¿®æ”¹herfçš„æ–¹æ³•ã€‚äºæ˜¯æˆ‘ä»¬ç»§ç»­å‘æºå¤´å¯»æ‰¾ã€‚</p><p>ç„¶åæˆ‘ä»¬å‘ç°tagcloudåŒ…æ˜¯è¢«å¼•ç”¨è¿›æ¥çš„ï¼Œè€Œä»–çš„æºç å°±åœ¨æˆ‘ä»¬é¢æåˆ°è¿‡çš„æ–‡ä»¶å¤¹ä¸­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">`&lt;a href=&quot;<span class="hljs-subst">$&#123;url_for.call(<span class="hljs-variable language_">this</span>, tag.path)&#125;</span>&quot; style=&quot;<span class="hljs-subst">$&#123;style&#125;</span>&quot;<span class="hljs-subst">$&#123;attr&#125;</span>&gt;<span class="hljs-subst">$&#123;transform ? transform(tag.name) : tag.name&#125;</span>&lt;/a&gt;`</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸€è¡Œå¾ˆæ˜æ˜¾å°±æ˜¯ç”Ÿæˆæ¯ä¸ªå°tagçš„ä»£ç ã€‚è™½ç„¶æˆ‘ä»¬çœ‹ä¸å¤ªæ‡‚<code>$&#123;url_for.call(this, tag.path)&#125;</code>è¿™è¡Œä»£ç çš„æ„æ€ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“æœ€ç»ˆä»–éƒ½ä¼šè¢«è§£æä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœä½ ç†Ÿæ‚‰jsï¼Œå°±ä¼šçŸ¥é“jsæ‹¥æœ‰å°†æ‰€æœ‰ä¸œè¥¿è½¬åŒ–ä¸ºå­—ç¬¦ä¸²çš„èƒ½åŠ›ğŸ˜‚å› æ­¤æˆ‘ä»¬ç›´æ¥ä½¿ç”¨substringæ–¹æ³•æ¥æ›´æ”¹è¿™ä¸€è¡Œä»£ç å°±å¯ä»¥è§£å†³é—®é¢˜äº†</p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨node.jsåˆ›å»ºä¸€ä¸ªtodoåˆ—è¡¨â€”â€”node.jsæœåŠ¡å™¨æ­å»ºã€jsonè¯»å†™ä»¥åŠä½¿ç”¨pm2ä¿æŒæœåŠ¡è¿è¡Œ</title>
    <link href="/2022/08/30/to-do-list-by-nodeJS/"/>
    <url>/2022/08/30/to-do-list-by-nodeJS/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨node-jsåˆ›å»ºä¸€ä¸ªtodoåˆ—è¡¨â€”â€”node-jsæœåŠ¡å™¨æ­å»ºä»¥åŠjsonè¯»å†™"><a href="#ä½¿ç”¨node-jsåˆ›å»ºä¸€ä¸ªtodoåˆ—è¡¨â€”â€”node-jsæœåŠ¡å™¨æ­å»ºä»¥åŠjsonè¯»å†™" class="headerlink" title="ä½¿ç”¨node.jsåˆ›å»ºä¸€ä¸ªtodoåˆ—è¡¨â€”â€”node.jsæœåŠ¡å™¨æ­å»ºä»¥åŠjsonè¯»å†™"></a>ä½¿ç”¨node.jsåˆ›å»ºä¸€ä¸ªtodoåˆ—è¡¨â€”â€”node.jsæœåŠ¡å™¨æ­å»ºä»¥åŠjsonè¯»å†™</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰äº›æ—¥å­å­¦ä¹ äº† nodejs ï¼Œé¡ºç†æˆç« çš„æƒ³è¦æ‰¾ç‚¹ä¸œè¥¿ç»ƒç»ƒæ‰‹ã€‚æ°å¥½æœ€è¿‘éœ€è¦ä¸€ä¸ªç®€ä»‹çš„todo listç½‘é¡µï¼Œå› ä¸ºä¹‹å‰ç”¨çš„ä¸€äº›todo liståº”ç”¨éƒ½è¢«å¢™äº†ï¼Œè®¿é—®é€Ÿåº¦æ„Ÿäººï¼Œäºæ˜¯å°±æƒ³è‡ªå·±æä¸€ä¸ªtodoã€‚</p><p>è€Œæ°å¥½ï¼Œæˆ‘è¦æçš„todoæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç¨‹åºï¼Œéå¸¸é€‚åˆç”¨nodejsè¿™æ ·çš„è§£é‡Šå‹è„šæœ¬è¯­è¨€æ¥å®ç°ï¼Œæ¯”èµ·javaè¿™æ ·å…‰æ­æ¡†æ¶å°±è¦åŠå¤©çš„ä¸“æ³¨å¤§å‹é¡¹ç›®çš„è¯­è¨€ï¼Œnodejs çš„ä¼˜åŠ¿å°±æ˜¯éæ˜æ˜¾äº†ã€‚</p><span id="more"></span><p>nodejsæ­å»ºæœåŠ¡å™¨åªéœ€è¦å»nodejså®˜ç½‘å¤åˆ¶è¿™æ ·çš„ä¸€å—ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;Hi!&#x27;</span>)<br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Server ready&#x27;</span>))<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠæ›´å¤šçš„ç»å†æ”¾åœ¨æˆ‘ä»¬çš„ä¸šåŠ¡å®ç°ä¸Šã€‚</p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><h3 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h3><p>åœ¨å¼€å§‹åŠ¨å·¥ä¹‹å‰ï¼Œè¦å…ˆåˆ—å‡ºéœ€æ±‚ã€‚å½“æ—¶æˆ‘çš„éœ€æ±‚å¦‚ä¸‹ï¼š</p><ul><li><p>æ·»åŠ éœ€è¦åšçš„äº‹æƒ…</p></li><li><p>å±•ç¤ºéœ€è¦åšçš„äº‹æƒ…</p></li><li><p>å®Œæˆéœ€è¦åšçš„äº‹æƒ…</p></li><li><p>æŸ¥çœ‹æ›¾ç»å®Œæˆçš„äº‹æƒ…</p></li></ul><h3 id="è§£å†³æ–¹æ¡ˆåˆ†æ"><a href="#è§£å†³æ–¹æ¡ˆåˆ†æ" class="headerlink" title="è§£å†³æ–¹æ¡ˆåˆ†æ"></a>è§£å†³æ–¹æ¡ˆåˆ†æ</h3><p>å¯¹äºä¸Šè¿°éœ€æ±‚ï¼Œæˆ‘æ‰“ç®—è¿™æ ·å®ç°ï¼š</p><ul><li><p>ä½¿ç”¨jsonæ–‡ä»¶ç³»ç»Ÿå®ç°æŒä¹…åŒ–æ“ä½œ</p></li><li><p>ä½¿ç”¨nodejsæ¥è·å–æ•°æ®</p></li><li><p>ä½¿ç”¨nodejsæ¥å¤„ç†æ•°æ®å¹¶å‚¨å­˜æ•°æ®</p></li></ul><p>è¿™æ ·çš„è¯ã€‚æ˜ç¡®äº†éœ€æ±‚ä¸å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŠ¨å·¥äº†ã€‚</p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="jsonè¯»å†™"><a href="#jsonè¯»å†™" class="headerlink" title="jsonè¯»å†™"></a>jsonè¯»å†™</h3><p>nodejsæä¾›äº†ä¸€å¥—æ–‡ä»¶çš„è¯»å†™çš„æ¨¡å—ï¼š<code>fs</code>ã€‚ä½¿ç”¨fså¯ä»¥å¾ˆç®€å•çš„å®ç°æ–‡æœ¬æ–‡ä»¶çš„è¯»å†™ã€‚ä½†æ˜¯ä¸ºäº†æˆ‘ä»¬åœ¨å¼€å‘çš„æ—¶å€™æ›´åŠ æ–¹ä¾¿ï¼Œæˆ‘åˆå°†ä»–å°è£…æˆäº†ä¸€ä¸ªä¸“æ³¨jsonè¯»å†™çš„æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//in jsonHandler.js</span><br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hello world!&quot;</span>)<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">readJson</span>(<span class="hljs-params">name</span>)&#123;<br>    <span class="hljs-keyword">let</span> jsonFile = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&quot;./&quot;</span>+name);<br>    <span class="hljs-keyword">let</span> toDoList = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(jsonFile);    <span class="hljs-comment">//è§£æjsonï¼Œå¹¶ç›´æ¥è¿”å›jsonå¯¹è±¡</span><br>    <span class="hljs-keyword">return</span> toDoList;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">writeJson</span>(<span class="hljs-params">name,data</span>)&#123;<br>    fs.<span class="hljs-title function_">writeFileSync</span>(<span class="hljs-string">&quot;./&quot;</span>+name,<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));<br>&#125;<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    readJson,<br>    writeJson<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æœåŠ¡å™¨æ­å»º"><a href="#æœåŠ¡å™¨æ­å»º" class="headerlink" title="æœåŠ¡å™¨æ­å»º"></a>æœåŠ¡å™¨æ­å»º</h3><p>è¿˜è®°å¾—æˆ‘ä»¬çš„æœåŠ¡å™¨çš„æ ¼å¼å—ï¼Ÿæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸‹æˆ‘ä»¬çš„æœåŠ¡å™¨æ¥å£ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//in index.js</span><br><span class="hljs-keyword">const</span> jh = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./jsonHandler&quot;</span>)<br><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>);<br><span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;url&#x27;</span>);<br><span class="hljs-keyword">const</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;util&#x27;</span>);<br><br><span class="hljs-keyword">let</span> workList = jh.<span class="hljs-title function_">readJson</span>(<span class="hljs-string">&quot;list.json&quot;</span>);<br><br><span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span><br><br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ä¸è¯·æ±‚ç¼–ç </span><br>    res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span><br>    <span class="hljs-comment">//è®¾ç½®å­—èŠ‚æµç¼–ç ä¸ºutf-8</span><br>    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Content-Type&#x27;</span>, <span class="hljs-string">&#x27;text/plain;charset=utf8&#x27;</span>)<br>    <span class="hljs-comment">//è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="hljs-string">&#x27;*&#x27;</span>)<br>    req.<span class="hljs-title function_">setEncoding</span>(<span class="hljs-string">&#x27;utf8&#x27;</span>);<br><br>    <span class="hljs-comment">//write your code here</span><br><br>    <span class="hljs-keyword">let</span> ret=<span class="hljs-string">&quot;&quot;</span>;    <span class="hljs-comment">//è¿™æ˜¯éœ€è¦è¿”å›çš„æ•°æ®</span><br>    res.<span class="hljs-title function_">end</span>(ret)<br>&#125;)<br><br>server.<span class="hljs-title function_">listen</span>(port, <span class="hljs-function">() =&gt;</span> &#123;<br>&#125;)<br></code></pre></td></tr></table></figure><p>ç„¶åæ ¹æ®æˆ‘ä»¬çš„éœ€æ±‚åˆ†æï¼Œå…ˆæ¥ç¡®å®šä»¥ä¸‹APIæ¥å£ï¼š</p><ul><li><p><code>addWork()</code>:ç”¨æ¥æ·»åŠ ä¸€ä¸ªä»»åŠ¡å¹¶å°†æ•°æ®ä¿å­˜åˆ°json</p></li><li><p><code>deleteWord(res)</code>:ç”¨æ¥å°†ä¸€ä¸ªä»»åŠ¡åˆ é™¤å¹¶å°†æ•°æ®ä¿å­˜åˆ°json</p></li><li><p><code>writeHistory(work)</code>:å°†å®Œæˆçš„ä»»åŠ¡æ·»åŠ åˆ°å†å²è®°å½•ä¸­</p></li><li><p><code>getAllWork()</code>:è·å–ç›®å‰æ­£åœ¨è¿è¡Œä¸­çš„ä»»åŠ¡</p></li></ul><p>é¦–å…ˆæˆ‘ä»¬å…ˆå¼€å§‹addWork()çš„ç¼–å†™ï¼Œè¦æ·»åŠ çš„è¯ï¼Œé¦–å…ˆè¦æ¥å—å¹¶è§£æå®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œç„¶åå†å‚¨å­˜åˆ°jsonä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ç”¨æ¥å¢åŠ ä¸€ä¸ªä»»åŠ¡</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">addWork</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">let</span> work=<span class="hljs-string">&quot;&quot;</span>;<br>        req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-function"><span class="hljs-params">chunk</span> =&gt;</span> &#123;    <span class="hljs-comment">//æ¥å—å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æµ</span><br>            <span class="hljs-comment">//è¿™é‡Œè¦å–å­ä¸²çš„åŸå› æ˜¯è¯·æ±‚ä¼šå¸¦keyï¼Œæˆ‘è¿™é‡Œæ˜¯work=xxxï¼Œæ‰€ä»¥è¦å°†&#x27;work=&#x27;å»æ‰</span><br>            work=chunk.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">substring</span>(<span class="hljs-number">5</span>);<br>            <span class="hljs-comment">//è®¾ç½®ç¼–ç ï¼Œä¸ç„¶ä¸­æ–‡ä¼šä¹±ç </span><br>            work = <span class="hljs-built_in">decodeURIComponent</span>(work);<br>            <span class="hljs-comment">//è§£æworklist</span><br>            <span class="hljs-keyword">let</span> jsonObj=<span class="hljs-built_in">eval</span>(workList)<br>            jsonObj.<span class="hljs-title function_">push</span>(&#123;<span class="hljs-string">&quot;work&quot;</span>:work&#125;)<br>            <span class="hljs-comment">//å°†æ•°æ®å†™å›</span><br>            jh.<span class="hljs-title function_">writeJson</span>(<span class="hljs-string">&quot;list.json&quot;</span>,jsonObj)<br>        &#125;)<br>    &#125;<br></code></pre></td></tr></table></figure><p>ä»»åŠ¡å†å²ä¸æ·»åŠ ä»»åŠ¡å‡ ä¹åŒç†ï¼Œåªä¸è¿‡è¿™ä¸ªæ–¹æ³•è·å–çš„æ•°æ®æ˜¯deleteWorkæä¾›çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†å»ç›‘æ§å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ä»»åŠ¡å†å²</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">writeHistory</span>(<span class="hljs-params">work</span>) &#123;<br>        <span class="hljs-keyword">let</span> jsonStr = jh.<span class="hljs-title function_">readJson</span>(<span class="hljs-string">&quot;history.json&quot;</span>);<br>        <span class="hljs-keyword">let</span> jsonObj = <span class="hljs-built_in">eval</span>(jsonStr);<br>        <span class="hljs-keyword">let</span> event = &#123;&#125;<br>        event.<span class="hljs-property">work</span> = work;<br>        event.<span class="hljs-property">finishTime</span> =<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>        jsonObj.<span class="hljs-title function_">push</span>(event);<br>        jh.<span class="hljs-title function_">writeJson</span>(<span class="hljs-string">&quot;history.json&quot;</span>,jsonObj)<br>    &#125;<br></code></pre></td></tr></table></figure><p>åˆ é™¤ä»»åŠ¡ä¹Ÿæ˜¯åŒç†ï¼Œæˆ‘ä»¬è¦åœ¨å‰ç«¯ç»™æ¯ä¸ªä»»åŠ¡éšæ€§çš„æ ‡ä¸Šindexï¼Œç„¶åå°±å¯ä»¥ç”¨æ¥åˆ é™¤äº†ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ é™¤ä»»åŠ¡</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteWork</span>(<span class="hljs-params">res</span>)&#123;<br>        req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-function"><span class="hljs-params">chunk</span> =&gt;</span> &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¯ç”¨çš„æ•°æ®å—: <span class="hljs-subst">$&#123;chunk&#125;</span>`</span>)<br>            <span class="hljs-comment">//è·å–ç‚¹å‡»äº‹ä»¶çš„ä½ç½®</span><br>            <span class="hljs-keyword">let</span> index=chunk.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">substring</span>(<span class="hljs-number">3</span>);<br>            <span class="hljs-keyword">let</span> jsonObj=<span class="hljs-built_in">eval</span>(workList)<br>            <span class="hljs-comment">//æ·»åŠ å†å²</span><br>            <span class="hljs-keyword">let</span> work = jsonObj[index].<span class="hljs-property">work</span><br>            <span class="hljs-title function_">writeHistory</span>(work)<br>            <span class="hljs-comment">//åˆ é™¤</span><br>            jsonObj.<span class="hljs-title function_">splice</span>(index,<span class="hljs-number">1</span>);<br>            <span class="hljs-comment">// console.log(jsonObj)</span><br>            jh.<span class="hljs-title function_">writeJson</span>(<span class="hljs-string">&quot;list.json&quot;</span>,jsonObj)<br>        &#125;)<br>    &#125;<br></code></pre></td></tr></table></figure><p>è·å–ä»»åŠ¡å°±éå¸¸ç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦ä»jsonä¸­æ‹¿åˆ°æ•°æ®å¹¶è½¬å‘ç»™å®¢æˆ·ç«¯å°±å¯ä»¥äº†ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//è·å–æ‰€æœ‰ä»»åŠ¡</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getAllWork</span>(<span class="hljs-params"></span>)&#123;<br>        workList=jh.<span class="hljs-title function_">readJson</span>(<span class="hljs-string">&quot;list.json&quot;</span>);<br>        ret=<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(workList);<br>    &#125;<br></code></pre></td></tr></table></figure><p>æœ€åå‘¢ï¼Œæˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªè·¯ç”±è§£æï¼Œå› ä¸ºjséå¸¸å°ï¼Œæ‰€ä»¥è¿™äº›ä¸œè¥¿éƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å°±å¯ä»¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/è§£æè·¯ç”±<br>    <span class="hljs-keyword">let</span> pathname = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>).<span class="hljs-property">pathname</span>;<br>    <span class="hljs-comment">//è·¯ç”±é…ç½®</span><br>    <span class="hljs-keyword">if</span> (pathname===<span class="hljs-string">&quot;/getAllWork&quot;</span>)&#123;<br>        <span class="hljs-title function_">getAllWork</span>()<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(pathname===<span class="hljs-string">&quot;/addWork&quot;</span>)&#123;<br>        <span class="hljs-title function_">addWork</span>()<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(pathname===<span class="hljs-string">&quot;/deleteWork&quot;</span>)&#123;<br>        <span class="hljs-title function_">deleteWork</span>()<br>    &#125;<br></code></pre></td></tr></table></figure><p>éšä¸‹è´´å‡ºå‰ç«¯æºç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;-- in index.html --&gt;<br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ch&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.simplecss.org/simple.css&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;technological.css&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tech-background&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> wish you a substantial day<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>to do list<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;add-work&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;add-work&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tech-input&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 70%&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&#x27;addWork()&#x27;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tech-btn&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: inline;&quot;</span>&gt;</span>å¢åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><span class="hljs-meta"></span></span><br><span class="hljs-meta"><span class="language-javascript">        &#x27;use strict&#x27;</span></span><br><span class="language-javascript">        $.<span class="hljs-title function_">ajax</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">url</span>:<span class="hljs-string">&quot;http://localhost:3000/getAllWork&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">method</span>:<span class="hljs-string">&quot;GET&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">crossDomain</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">success</span>:<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> con=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;container&quot;</span>);</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> workList=<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(res)</span><br><span class="language-javascript">                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(workList)</span><br><span class="language-javascript">                workList=<span class="hljs-built_in">eval</span>(workList)</span><br><span class="language-javascript">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;workList.<span class="hljs-property">length</span>;i++)&#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">let</span> list=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;label&quot;</span>);</span><br><span class="language-javascript">                    list.<span class="hljs-property">innerHTML</span>=<span class="hljs-string">&quot;&lt;input name=\&quot;work-list\&quot; id=\&quot;work&quot;</span>+i+<span class="hljs-string">&quot;\&quot; value=&#x27;&quot;</span>+workList[i].<span class="hljs-property">work</span>+<span class="hljs-string">&quot;&#x27; class=&#x27;tech-input&#x27; style=\&quot;width: 70%\&quot;&gt; &quot;</span> +</span><br><span class="language-javascript">                        <span class="hljs-string">&quot;&lt;button onclick=&#x27;deleteWork(this)&#x27; id=&#x27;&quot;</span>+i+<span class="hljs-string">&quot;&#x27; class=&#x27;tech-btn&#x27; style=\&quot;display: inline;\&quot;&gt;å®Œæˆ&lt;/button&gt;&quot;</span>;</span><br><span class="language-javascript">                    con.<span class="hljs-title function_">appendChild</span>(list);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">addWork</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> work=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;add-work&quot;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            $.<span class="hljs-title function_">ajax</span>(&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;http://localhost:3000/addWork&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;POST&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">crossDomain</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">data</span>:&#123;</span><br><span class="language-javascript">                    <span class="hljs-string">&quot;work&quot;</span>:work</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">success</span>:<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">// alert(&quot;success&quot;);</span></span><br><span class="language-javascript">                    location.<span class="hljs-title function_">reload</span>();</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteWork</span>(<span class="hljs-params">res</span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> index=res.<span class="hljs-property">id</span>;</span><br><span class="language-javascript">            $.<span class="hljs-title function_">ajax</span>(&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;http://localhost:3000/deleteWork&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;POST&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">crossDomain</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">data</span>:&#123;</span><br><span class="language-javascript">                    <span class="hljs-string">&quot;id&quot;</span>:index</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">success</span>:<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">// alert(&quot;success&quot;);</span></span><br><span class="language-javascript">                    location.<span class="hljs-title function_">reload</span>();</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªé¡¹ç›®çš„æºç æˆ‘ä¹Ÿä¼šæ”¾åœ¨GitHubï¼ˆå› ä¸ºé¡¹ç›®å®åœ¨å¤ªå°æˆ‘ç”šè‡³éƒ½æ²¡æœ‰å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼‰</p><p><a href="https://github.com/charlesix59/todo_list_by_nodeJS">é¡¹ç›®åœ°å€</a></p><h2 id="ä¿æŒä»£ç è¿è¡Œ"><a href="#ä¿æŒä»£ç è¿è¡Œ" class="headerlink" title="ä¿æŒä»£ç è¿è¡Œ"></a>ä¿æŒä»£ç è¿è¡Œ</h2><p>æˆ‘ä»¬æœåŠ¡å™¨ä»£ç å½“ç„¶è¦æœ‰ä¸€ä¸ªæœåŠ¡å™¨å»è¿è¡Œï¼Œè€Œè¿™ä¸ªè¿·ä½ çš„é¡¹ç›®æ˜¾ç„¶ä¸å€¼å¾—è®©æˆ‘ä»¬å»åˆ†é…ä»–ä¸€ä¸ªäº‘æœåŠ¡å™¨åŠ ä¸€ä¸ªåŸŸåï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥æŠŠè¿™ä¸ªæœåŠ¡è¿è¡Œåœ¨æœ¬åœ°å‘¢ï¼Ÿ</p><p>å¯æ˜¯è¿è¡Œåœ¨æœ¬åœ°å°±éœ€è¦é¢‘ç¹çš„é‡å¯æœåŠ¡ï¼Œæ¯æ¬¡å¼€æœºéƒ½è¦å¯åŠ¨ä¸€æ¬¡ï¼Œè¿™æœªå…ä¹Ÿå¤ªéº»çƒ¦äº†ã€‚äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨<strong>pm2</strong>æ¥ä½¿æˆ‘ä»¬çš„é¡¹ç›®ä¿æŒè¿è¡Œ</p><p>å…³äºpm2æˆ‘åœ¨æ­¤ä¸å¤šèµ˜è¿°äº†ï¼Œå¤§å®¶æœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œç™¾åº¦æœç´¢ï¼Œæˆ‘åªç»™å‡ºéƒ¨ç½²çš„å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install pm2 -g #å…¨å±€å®‰è£…pm2<br>cd &lt;é¡¹ç›®ç›®å½•&gt;<br>pm2 start index.js --watch<br>pm2 save<br>pm2 list<br></code></pre></td></tr></table></figure><p>å¦‚æœä½ éƒ¨ç½²æˆåŠŸï¼Œé‚£ä¹ˆå½“ä½ è¿è¡Œ<code>pm2 list</code>ä¹‹åä½ å°±å¯ä»¥çœ‹åˆ°ä½ çš„é¡¹ç›®äº†</p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>node.js</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
